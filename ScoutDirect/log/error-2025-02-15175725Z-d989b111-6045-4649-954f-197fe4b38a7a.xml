<error errorId="d989b111-6045-4649-954f-197fe4b38a7a" application="CMPNatural.Api" host="mortezas-MacBook-Pro" type="System.IO.EndOfStreamException" message="Attempted to read past the end of the stream." source="MySql.Data" detail="# caller: @C:\Sources\ElmahCore\ElmahCore\ElmahCore\Internal$\CallerInfo.cs:9&#xA;MySql.Data.MySqlClient.MySqlException (0x80004005): Fatal error encountered during command execution.&#xA; ---&gt; MySql.Data.MySqlClient.MySqlException (0x80004005): Fatal error encountered attempting to read the resultset.&#xA; ---&gt; MySql.Data.MySqlClient.MySqlException (0x80004005): Reading from the stream has failed.&#xA; ---&gt; System.IO.EndOfStreamException: Attempted to read past the end of the stream.&#xA;   at MySql.Data.MySqlClient.MySqlStream.ReadFullyAsync(Stream stream, Byte[] buffer, Int32 offset, Int32 count, Boolean execAsync)&#xA;   at MySql.Data.MySqlClient.MySqlStream.LoadPacketAsync(Boolean execAsync)&#xA;   at MySql.Data.MySqlClient.MySqlStream.LoadPacketAsync(Boolean execAsync)&#xA;   at MySql.Data.MySqlClient.MySqlStream.ReadPacketAsync(Boolean execAsync)&#xA;   at MySql.Data.MySqlClient.NativeDriver.GetResultAsync(Int32 affectedRow, Int64 insertedId, Boolean execAsync)&#xA;   at MySql.Data.MySqlClient.Driver.GetResultAsync(Int32 statementId, Int32 affectedRows, Int64 insertedId, Boolean execAsync)&#xA;   at MySql.Data.MySqlClient.Driver.NextResultAsync(Int32 statementId, Boolean force, Boolean execAsync)&#xA;   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)&#xA;   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)&#xA;   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)&#xA;   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)&#xA;   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)&#xA;   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)&#xA;   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)&#xA;   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)&#xA;   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)&#xA;   at MySql.EntityFrameworkCore.Storage.Internal.MySQLExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)&#xA;   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()&#xA;   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)&#xA;   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)&#xA;   at ScoutDirect.infrastructure.Repository.Repository`2.GetAsync(Expression`1 expression, Func`2 includeFunc) in /Users/morteza/Desktop/Project/ethno-flutter/CMPNatural/copy/CMPNatural/infrastructure/Repository/Base/Base.cs:line 68&#xA;   at CMPNatural.Application.Handlers.GetAllInvoiceHandler.Handle(GetAllInvoiceCommand request, CancellationToken cancellationToken) in /Users/morteza/Desktop/Project/ethno-flutter/CMPNatural/copy/CMPNatural/Application/Handlers/CommandHandlers/Invoice/GetAllInvoiceHandler.cs:line 27&#xA;   at CMPNatural.Api.Controllers.Admin.Client.ClientInvoicesController.Get() in /Users/morteza/Desktop/Project/ethno-flutter/CMPNatural/copy/CMPNatural/ScoutDirect/Controllers/Admin/Client/ClientInvoicesController.cs:line 54&#xA;   at lambda_method21(Closure, Object)&#xA;   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)&#xA;   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.&lt;InvokeActionMethodAsync&gt;g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)&#xA;   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.&lt;InvokeNextActionFilterAsync&gt;g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)&#xA;   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)&#xA;   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)&#xA;   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.&lt;InvokeInnerFilterAsync&gt;g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)&#xA;   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeNextResourceFilter&gt;g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)&#xA;   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)&#xA;   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State&amp; next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted)&#xA;   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeFilterPipelineAsync&gt;g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)&#xA;   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)&#xA;   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.&lt;InvokeAsync&gt;g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)&#xA;   at ElmahCore.Mvc.ErrorLogMiddleware.InvokeAsync(HttpContext context)" time="2025-02-15T17:57:25.0722810Z" statusCode="500">
  <serverVariables>
    <item name="TotalParsedHeaderSize">
      <value string="934" />
    </item>
    <item name="StreamId">
      <value string="1675" />
    </item>
    <item name="RequestBodyStarted">
      <value string="False" />
    </item>
    <item name="EndStreamReceived">
      <value string="True" />
    </item>
    <item name="ReceivedEmptyRequestBody">
      <value string="True" />
    </item>
    <item name="CanReuse">
      <value string="False" />
    </item>
    <item name="ConnectionIdFeature">
      <value string="0HNADT10R0EL8" />
    </item>
    <item name="HasStartedConsumingRequestBody">
      <value string="False" />
    </item>
    <item name="MaxRequestBodySize">
      <value string="30000000" />
    </item>
    <item name="MinRequestBodyDataRate">
      <value string="Bytes per second: 240, Grace Period: 00:00:05" />
    </item>
    <item name="AllowSynchronousIO">
      <value string="False" />
    </item>
    <item name="TraceIdentifier">
      <value string="0HNADT10R0EL8:0000068B" />
    </item>
    <item name="IsUpgradableRequest">
      <value string="False" />
    </item>
    <item name="IsUpgraded">
      <value string="False" />
    </item>
    <item name="IsExtendedConnectRequest">
      <value string="False" />
    </item>
    <item name="IsExtendedConnectAccepted">
      <value string="False" />
    </item>
    <item name="RemoteIpAddress">
      <value string="::1" />
    </item>
    <item name="RemotePort">
      <value string="60895" />
    </item>
    <item name="LocalIpAddress">
      <value string="::1" />
    </item>
    <item name="LocalPort">
      <value string="7089" />
    </item>
    <item name="Scheme">
      <value string="https" />
    </item>
    <item name="Method">
      <value string="Get" />
    </item>
    <item name="MethodText">
      <value string="GET" />
    </item>
    <item name="Path">
      <value string="/api/admin/ClientInvoices/70" />
    </item>
    <item name="QueryString">
      <value string="" />
    </item>
    <item name="RawTarget">
      <value string="/api/admin/ClientInvoices/70" />
    </item>
    <item name="HttpVersion">
      <value string="HTTP/2" />
    </item>
    <item name="Header_Accept">
      <value string="application/json, text/plain, */*" />
    </item>
    <item name="Header_Host">
      <value string="localhost:7089" />
    </item>
    <item name="Header_User-Agent">
      <value string="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36" />
    </item>
    <item name="Header_Accept-Encoding">
      <value string="gzip, deflate, br, zstd" />
    </item>
    <item name="Header_Accept-Language">
      <value string="en-US,en;q=0.9" />
    </item>
    <item name="Header_Authorization">
      <value string="Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc0FkbWluIjoidHJ1ZSIsIlBlcnNvbklkIjoiZTM3NDg0NWMtOGFkMC00MGEyLWIyNGItZThlM2ZjNjk3ZjEyIiwiRW1haWwiOiIxIiwiZXhwIjoxNzQxODA2NzU1LCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjU5OTIxIiwiYXVkIjoiaHR0cDovL2xvY2FsaG9zdDo0MjAwIn0.i9DIySYZ8UT8scT7A0acBfflpNFkU53QalTzkKXy9uw" />
    </item>
    <item name="Header_Referer">
      <value string="http://localhost:3000/" />
    </item>
    <item name="Header_sec-ch-ua-platform">
      <value string="&quot;macOS&quot;" />
    </item>
    <item name="Header_sec-ch-ua">
      <value string="&quot;Not(A:Brand&quot;;v=&quot;99&quot;, &quot;Google Chrome&quot;;v=&quot;133&quot;, &quot;Chromium&quot;;v=&quot;133&quot;" />
    </item>
    <item name="Header_sec-ch-ua-mobile">
      <value string="?0" />
    </item>
    <item name="Header_Access-Control-Allow-Methods">
      <value string="GET,PUT,POST,DELETE,PATCH,OPTIONS" />
    </item>
    <item name="Header_Access-Control-Allow-Origin">
      <value string="*" />
    </item>
    <item name="Header_sec-fetch-site">
      <value string="cross-site" />
    </item>
    <item name="Header_sec-fetch-mode">
      <value string="cors" />
    </item>
    <item name="Header_sec-fetch-dest">
      <value string="empty" />
    </item>
    <item name="Header_priority">
      <value string="u=1, i" />
    </item>
    <item name="RequestTrailersAvailable">
      <value string="True" />
    </item>
    <item name="StatusCode">
      <value string="200" />
    </item>
    <item name="HasResponseStarted">
      <value string="False" />
    </item>
    <item name="HasFlushedHeaders">
      <value string="False" />
    </item>
    <item name="HasResponseCompleted">
      <value string="False" />
    </item>
    <item name="IsWebTransportRequest">
      <value string="False" />
    </item>
    <item name="Connection_Id">
      <value string="0HNADT10R0EL8" />
    </item>
    <item name="Connection_RemoteIpAddress">
      <value string="::1" />
    </item>
    <item name="Connection_RemotePort">
      <value string="60895" />
    </item>
    <item name="Connection_LocalIpAddress">
      <value string="::1" />
    </item>
    <item name="Connection_LocalPort">
      <value string="7089" />
    </item>
    <item name="HttpStatusCode">
      <value string="500" />
    </item>
  </serverVariables>
  <messageLog>
    <message level="Error" time-stamp="2025-02-15T17:57:24.9882780Z" message="Failed executing DbCommand (1,201ms) [Parameters=[@__request_CompanyId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']&#xA;SELECT `i`.`Id`, `i`.`Amount`, `i`.`CompanyId`, `i`.`InvoiceCrmId`, `i`.`InvoiceId`, `i`.`Link`, `i`.`ProviderId`, `i`.`RegisterDate`, `i`.`Status`, `t`.`Id`, `t`.`InvoiceId`, `t`.`ProductPriceId`, `t`.`Id0`, `t`.`Amount`, `t`.`BillingPeriod`, `t`.`Enable`, `t`.`Name`, `t`.`NumberofPayments`, `t`.`ProductId`, `t`.`ServiceCrmId`, `t`.`ServicePriceCrmId`, `t`.`SetupFee`, `t`.`Id1`, `t`.`CollectionIds`, `t`.`Description`, `t`.`Enable0`, `t`.`Name0`, `t`.`ProductType`, `t`.`ServiceCrmId0`&#xA;FROM `Invoice` AS `i`&#xA;LEFT JOIN (&#xA;    SELECT `i0`.`Id`, `i0`.`InvoiceId`, `i0`.`ProductPriceId`, `p`.`Id` AS `Id0`, `p`.`Amount`, `p`.`BillingPeriod`, `p`.`Enable`, `p`.`Name`, `p`.`NumberofPayments`, `p`.`ProductId`, `p`.`ServiceCrmId`, `p`.`ServicePriceCrmId`, `p`.`SetupFee`, `p0`.`Id` AS `Id1`, `p0`.`CollectionIds`, `p0`.`Description`, `p0`.`Enable` AS `Enable0`, `p0`.`Name` AS `Name0`, `p0`.`ProductType`, `p0`.`ServiceCrmId` AS `ServiceCrmId0`&#xA;    FROM `InvoiceProduct` AS `i0`&#xA;    INNER JOIN `ProductPrice` AS `p` ON `i0`.`ProductPriceId` = `p`.`Id`&#xA;    INNER JOIN `Product` AS `p0` ON `p`.`ProductId` = `p0`.`Id`&#xA;) AS `t` ON `i`.`Id` = `t`.`InvoiceId`&#xA;WHERE `i`.`CompanyId` = @__request_CompanyId_0&#xA;ORDER BY `i`.`Id`, `t`.`Id`, `t`.`Id0`" />
    <message level="Error" exception="MySql.Data.MySqlClient.MySqlException (0x80004005): Fatal error encountered during command execution.&#xA; ---&gt; MySql.Data.MySqlClient.MySqlException (0x80004005): Fatal error encountered attempting to read the resultset.&#xA; ---&gt; MySql.Data.MySqlClient.MySqlException (0x80004005): Reading from the stream has failed.&#xA; ---&gt; System.IO.EndOfStreamException: Attempted to read past the end of the stream.&#xA;   at MySql.Data.MySqlClient.MySqlStream.ReadFullyAsync(Stream stream, Byte[] buffer, Int32 offset, Int32 count, Boolean execAsync)&#xA;   at MySql.Data.MySqlClient.MySqlStream.LoadPacketAsync(Boolean execAsync)&#xA;   at MySql.Data.MySqlClient.MySqlStream.LoadPacketAsync(Boolean execAsync)&#xA;   at MySql.Data.MySqlClient.MySqlStream.ReadPacketAsync(Boolean execAsync)&#xA;   at MySql.Data.MySqlClient.NativeDriver.GetResultAsync(Int32 affectedRow, Int64 insertedId, Boolean execAsync)&#xA;   at MySql.Data.MySqlClient.Driver.GetResultAsync(Int32 statementId, Int32 affectedRows, Int64 insertedId, Boolean execAsync)&#xA;   at MySql.Data.MySqlClient.Driver.NextResultAsync(Int32 statementId, Boolean force, Boolean execAsync)&#xA;   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)&#xA;   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)&#xA;   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)&#xA;   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)&#xA;   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)&#xA;   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)&#xA;   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)&#xA;   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)&#xA;   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)&#xA;   at MySql.EntityFrameworkCore.Storage.Internal.MySQLExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)&#xA;   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" time-stamp="2025-02-15T17:57:24.9982930Z" message="An exception occurred while iterating over the results of a query for context type 'infrastructure.Data.ScoutDBContext'.&#xA;MySql.Data.MySqlClient.MySqlException (0x80004005): Fatal error encountered during command execution.&#xA; ---&gt; MySql.Data.MySqlClient.MySqlException (0x80004005): Fatal error encountered attempting to read the resultset.&#xA; ---&gt; MySql.Data.MySqlClient.MySqlException (0x80004005): Reading from the stream has failed.&#xA; ---&gt; System.IO.EndOfStreamException: Attempted to read past the end of the stream.&#xA;   at MySql.Data.MySqlClient.MySqlStream.ReadFullyAsync(Stream stream, Byte[] buffer, Int32 offset, Int32 count, Boolean execAsync)&#xA;   at MySql.Data.MySqlClient.MySqlStream.LoadPacketAsync(Boolean execAsync)&#xA;   at MySql.Data.MySqlClient.MySqlStream.LoadPacketAsync(Boolean execAsync)&#xA;   at MySql.Data.MySqlClient.MySqlStream.ReadPacketAsync(Boolean execAsync)&#xA;   at MySql.Data.MySqlClient.NativeDriver.GetResultAsync(Int32 affectedRow, Int64 insertedId, Boolean execAsync)&#xA;   at MySql.Data.MySqlClient.Driver.GetResultAsync(Int32 statementId, Int32 affectedRows, Int64 insertedId, Boolean execAsync)&#xA;   at MySql.Data.MySqlClient.Driver.NextResultAsync(Int32 statementId, Boolean force, Boolean execAsync)&#xA;   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)&#xA;   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(Boolean execAsync, CancellationToken cancellationToken)&#xA;   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)&#xA;   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)&#xA;   at MySql.Data.MySqlClient.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean execAsync, CancellationToken cancellationToken)&#xA;   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)&#xA;   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)&#xA;   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)&#xA;   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)&#xA;   at MySql.EntityFrameworkCore.Storage.Internal.MySQLExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)&#xA;   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()" />
  </messageLog>
</error>